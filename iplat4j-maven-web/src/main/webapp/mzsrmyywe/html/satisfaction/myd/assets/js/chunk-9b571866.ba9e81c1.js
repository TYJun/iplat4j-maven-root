(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9b571866"],{"05f9":function(t,e,i){"use strict";i("527d")},2532:function(t,e,i){"use strict";var n=i("23e7"),s=i("e330"),a=i("5a34"),c=i("1d80"),o=i("577e"),i=i("ab13"),l=s("".indexOf);n({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~l(o(c(this)),o(a(t)),1<arguments.length?arguments[1]:void 0)}})},"527d":function(t,e,i){},"5a34":function(t,e,i){var n=i("da84"),s=i("44e7"),a=n.TypeError;t.exports=function(t){if(s(t))throw a("The method doesn't accept regular expressions");return t}},"81bf":function(t,e,i){"use strict";i.r(e);var s=i("1da1"),a=(i("96cf"),i("a9e3"),i("d81d"),i("99af"),i("a434"),i("caad"),i("2532"),i("d3b7"),i("b64b"),i("365c")),n={name:"questionnaire-investigation-radio",props:{page:{type:Number|String,default:0}},render:function(){function t(t,e){return s("div",{class:"questionnaire-investigation-radio-list-item-content"},[s("global-van-checkbox-group",{class:"2"==e.pointType&&"display-block",attrs:{direction:"horizontal",max:"2"},model:{value:e.check_list,callback:function(t){n.$set(e,"check_list",t)}}},[t.map(function(t){return s("global-van-checkbox",{class:("4"==e.pointType||"1"==e.pointType)&&"point-radio",attrs:{name:t.value},on:{click:function(){return n.checkbox_click(e)}}},[t.label])})])])}var e,i,n=this,s=arguments[0],a=[t,t,t,function(t,e){return t=t,"-1"==(i=e).check_list[0]&&(i.text=""),s("div",{class:"questionnaire-investigation-radio-list-item-content"},[s("global-van-checkbox-group",{attrs:{direction:"horizontal",max:"2"},model:{value:i.check_list,callback:function(t){n.$set(i,"check_list",t)}}},[t.map(function(t){return s("global-van-checkbox",{attrs:{name:t.value},on:{click:function(){return n.checkbox_click(i)}}},[t.label])})]),s("global-van-field",{attrs:{readonly:"-1"==i.check_list[0],rows:"3",autosize:!0,label:"",type:"textarea",placeholder:"请输入"},model:{value:i.text,callback:function(t){n.$set(i,"text",t)}}})]);var i},t];return s("div",{class:"questionnaire-investigation-radio"},[s("div",{class:"questionnaire-investigation-radio-title"},[s("global-van-cell-group",{attrs:{inset:!0}},[s("global-van-cell",{attrs:{title:this.page==this.instance.length?this.advice:null===(e=this.instance[this.page])||void 0===e?void 0:e.projectName,value:""}})])]),s("div",{class:"questionnaire-investigation-radio-list",directives:[{name:"show",value:this.is_show}]},[null===(e=this.instance[this.page])||void 0===e||null===(i=e.instance)||void 0===i?void 0:i.map(function(t,e){return s("div",{class:"questionnaire-investigation-radio-list-item"},[s("div",{class:"questionnaire-investigation-radio-list-item-title"},["".concat(t.orderNo," ").concat(t.instanceName)]),a[t.pointType](t.instanceItem,t,e)])}),this.page!=this.instance.length?s("div",{class:"questionnaire-investigation-radio-list-item"},[s("div",{class:"questionnaire-investigation-radio-list-item-title"},[this.comments_suggestions_title]),s("global-van-field",{attrs:{rows:"3",autosize:!0,label:"",type:"textarea",placeholder:"请输入"},model:{value:n.instance[n.page].advice,callback:function(t){n.$set(n.instance[n.page],"advice",t)}}})]):s("div",{class:"questionnaire-investigation-radio-list-item"},[s("div",{class:"questionnaire-investigation-radio-list-item-title"},[this.comments_suggestions_title]),s("global-van-field",{on:{input:function(){return n.input()}},attrs:{rows:"3",autosize:!0,label:"",type:"textarea",placeholder:"请输入"},model:{value:n.comments_suggestions,callback:function(t){n.comments_suggestions=t}}})])])])},data:function(){return{is_show:!1,instance:[],comments_suggestions_title:"意见或建议",comments_suggestions:"",advice:"希望对本次问卷提出意见"}},watch:{page:function(){this.$nextTick(function(){document.querySelector(".questionnaire-investigation-radio-list").scrollTop=0})}},mounted:function(){window.scrollTo(0,0)},methods:{input:function(){this.$emit("comments_suggestions",this.comments_suggestions)},checkbox_click:function(t){var i=this,e=this.instance[this.page].instance;t.check_list[1]&&(t.check_list[0]=t.check_list[1],t.check_list.splice(1,1)),t.first_question?t.check_list.includes("-1")?e.map(function(t,e){t.text="",t.check_list[0]?i.instance[i.page].instance[e].check_list=["-1"]:t.check_list.push("-1")}):e.map(function(t){return t.check_list.splice(t.check_list.indexOf("-1"),1)}):e.every(function(t,e){return!(0<e)||"-1"==t.check_list[0]})?e[0].check_list.push("-1"):(this.instance[this.page].instance[0].check_list=[],t.text=""),this.$emit("complete_check",this.instance)},get_instance:function(){var n=this;return Object(s.a)(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.$toast.loading({message:"加载中...",forbidClick:!0}),e=JSON.parse(Object.keys(n.$route.query)[0]),t.next=4,Object(a.a)({prames:{billNo:e.billNo,ID:e.standardId,workNo:localStorage.getItem("workNo")}});case 4:i=t.sent,n.comments_suggestions=null!==(e=i.attr.advice)&&void 0!==e?e:"",n.$emit("comments_suggestions",null!==(e=i.attr.advice)&&void 0!==e?e:""),i.attr.param.map(function(t){var e;null===(e=t.instance)||void 0===e||e.unshift({orderNo:"",pointType:0,instanceName:"该项目是否涉及?",first_question:!0}),t.instance.map(function(t){t.orderNo=t.orderNo?"".concat(t.orderNo,"."):""}),null==t||t.instance.map(function(t,e){t.check_list=[],t.selectValue&&(0<e&&"0"==t.selectValue?t.check_list.push("-1"):t.check_list.push(t.selectValue)),null!==(e=t.instanceItem)&&void 0!==e||(t.instanceItem=[]),t.instanceItem.unshift({label:"不涉及",value:"-1"})})}),i.success&&(n.instance=i.attr.param),n.instance=i.attr.param,n.$emit("complete",n.instance),n.$toast.clear(),n.is_show=!0;case 13:case"end":return t.stop()}},t)}))()}},computed:{},created:function(){this.get_instance()}},i=(i("05f9"),i("2877")),n=Object(i.a)(n,void 0,void 0,!1,null,"e1572486",null);e.default=n.exports},ab13:function(t,e,i){var n=i("b622")("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[n]=!1,"/./"[e](i)}catch(t){}}return!1}}}]);