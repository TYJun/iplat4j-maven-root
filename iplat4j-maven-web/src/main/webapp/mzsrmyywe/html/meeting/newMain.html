<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../reference/css/mui.picker.css" />
    <link rel="stylesheet" href="../../reference/mui/css/mui.css" />
    <link rel="stylesheet" href="../../reference/mui/css/mui.min.css" />
    <link rel="stylesheet" href="../../reference/mui/css/mui.picker.css" />
    <link rel="stylesheet" href="../../reference/mui/css/mui.picker.min.css" />
    <link rel="stylesheet" href="../../reference/mui/css/mui.dtpicker.css" />
    <title>预约申请</title>
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 800px;
        overflow: hidden;
    }

    #app {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
    }

    /* 头部区域 */
    .tab {
        position: fixed;
        width: 100%;
        height: 44px;
        background-color: #2aabd2;
        text-align: center;
    }

    #top-bar {
        position: absolute;
        left: 0;
        right: 0;
        margin: 0 auto;
        width: 100%;
        height: 100%;
        background-color: #2aabd2;
    }

    #icon-left-back {
        float: left;
        position: relative;
        margin-right: 107px;
        width: 28px;
        height: 100%;
        line-height: 44px;
        color: #fff;
        margin-left: 6px;
        font-weight: 400;
        font-size: 26px;
    }

    .back-title {
        position: absolute;
        left: 32px;
        line-height: 44px;
        color: #fff;
        font-size: 16px;
    }

    #title {
        position: absolute;
        left: 0;
        right: 0;
        margin: 0 auto;
        width: 280px;
        line-height: 44px;
        font-size: 17px;
        font-weight: 500;
        color: #fff;
    }

    #select_class {
        float: right;
        position: relative;
        right: 0;
        line-height: 44px;
        color: #fff;
        margin-right: 26px;
        font-weight: 500;
        font-size: 17px;
    }

    /* 中部内容 */
    .center {
        position: relative;
        top: 44px;
        width: 100%;
    }

    /* 会议室类型 */
    .meeting-select {
        position: absolute;
        width: 100%;
        box-shadow: 0px 5px 10px #d6d6d6;
        color: rgb(160, 160, 160);
        background-color: #fff;
    }

    .select-type,
    .select-date {
        display: inline-block;
        width: 24%;
        height: 36px;
        font-size: 14px;
        text-align: center;
        line-height: 36px;
    }

    /* 选中样式 */
    .c_active {
        color: #1598c0;
        border-bottom: #2aabd2 1px solid;
    }

    /* 会议室列表 */
    .list {
        position: relative;
        overflow: scroll;
        top: 80px;
        bottom: 0;
        margin-bottom: 0;
        width: 100%;
        touch-action: none;
        height: 493px;
    }

    .list ul {
        overflow: scroll;
        padding: 3px 0 0 0;
        position: relative;
        top: 0px;
        list-style: none;
    }

    .list-card {
        position: relative;
        list-style: none;
        background-color: #fff;
        margin-bottom: 10px;
        box-shadow: 0px 5px 10px #d6d6d6;
        width: 100%;
        height: 205px;
        padding: 0 20px;
    }

    .top {
        width: 100%;
        height: 40%;
        border-bottom: 1px solid rgb(185, 231, 250);
    }

    .top-left {
        position: absolute;
        top: 14px;
        left: 20px;
    }

    .meeting-room-name {
        height: 36px;
        line-height: 36px;
        font-size: 18px;
        font-weight: bold;
    }

    .remarks {
        font-size: 14px;
        color: rgb(163, 163, 163);
    }

    .top-right {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 23%;
        height: 18%;
        border: #fff;
        background-color: #2aabd2;
        text-align: center;
        color: #fff;
        margin: 0 auto;
        border-radius: 26px;
    }

    #jindu {
        position: absolute;
        top: 145px;
        left: 20px;
        width: 335px;
        height: 20px;
        background-color: #a3d7e7;
    }

    .startTime {
        position: absolute;
        left: 20px;
        top: 170px;
        color: #128aaf;
    }

    .yellow {
        position: absolute;
        left: 100px;
        top: 170px;
        color: orange;
    }

    .blue {
        position: absolute;
        left: 205px;
        top: 170px;
        color: rgb(112, 196, 230);
    }

    .endTime {
        position: absolute;
        right: 20px;
        top: 170px;
        color: #128aaf;
    }

    /* 底部nav */
    .bottom {
        position: fixed;
        bottom: 0;
        background-color: #fff;
        border-top: 1px solid rgb(206, 206, 206);
        width: 100%;
        height: 54px;
    }

    .bottom div {
        position: relative;
        display: inline-block;
        height: 100%;
        width: 32%;
        left: 5%;
    }

    .nav-icon {
        font-family: Muiicons;
        position: absolute;
        font-size: 24px;
        font-weight: 400;
        font-style: normal;
        line-height: 1;
        display: inline-block;
        text-decoration: none;
        -webkit-font-smoothing: antialiased;
        left: 30%;
        top: 5px;
        color: rgb(153, 153, 153);
    }

    .nav-text {
        position: absolute;
        left: 15%;
        top: 28px;
        color: rgb(153, 153, 153);
    }

    .yysq {
        color: #007aff!important;
    }

    .mui-icon-compose {
        color: #007aff;
    }
</style>

<body>
    <div id="app">
        <!-- 顶部tab -->
        <div class="tab">
            <div id="top-bar">
                <span @click="back" id="icon-left-back" class="mui-icon mui-icon-arrowleft"></span>
                <span class="back-title">首页</span>
                <h1 id="title">预约会议</h1>
            </div>
        </div>
        <!-- 中部内容 -->
        <div class="center">
            <!-- 会议室筛选 -->
            <div class="meeting-select">
                <div>
                    <span class="select-type" v-for="(item, index) in typeList" :key="index"
                        :class="{c_active: index == typeActive}" @click="changeTypeClass(index)">{{item}}</span>
                </div>
                <div>
                    <span class="select-date" v-for="(item, index) in dateList" :key="index"
                        :class="{c_active: index == dateActive}" @click="changeDateClass(index)">{{item}}</span>
                </div>
            </div>
            <!-- 会议室预约列表 -->
            <div class="list">
                <!-- <div class="mui-scroll-wrapper">
                    <div class="mui-scroll"> -->
                <ul>
                    <li class="list-card">
                        <!-- 上部分 -->
                        <div class="top">
                            <div class="top-left">
                                <div class="meeting-room-name">测试会议室</div>
                                <div class="remarks">有投影仪</div>
                            </div>
                            <button type="button" class="mui-btn top-right">预约</button>
                        </div>
                        <!-- 下部分 -->
                        <div>
                            <!-- 进度条 -->
                            <div id="jindu" class="mui-progressbar">
                                <span></span>
                            </div>
                            <span class="startTime">7:00</span>
                            <span class="yellow">黄色: 已审批</span>
                            <span class="blue">蓝色: 审批中</span>
                            <span class="endTime">19:00</span>
                        </div>
                    </li>
                    <li class="list-card">
                        <!-- 上部分 -->
                        <div class="top">
                            <div class="top-left">
                                <div class="meeting-room-name">测试会议室</div>
                                <div class="remarks">有投影仪</div>
                            </div>
                            <button type="button" class="mui-btn top-right">预约</button>
                        </div>
                        <!-- 下部分 -->
                        <div>
                            <!-- 进度条 -->
                            <div id="jindu" class="mui-progressbar">
                                <span></span>
                            </div>
                            <span class="startTime">7:00</span>
                            <span class="yellow">黄色: 已审批</span>
                            <span class="blue">蓝色: 审批中</span>
                            <span class="endTime">19:00</span>
                        </div>
                    </li>
                    <li class="list-card">
                        <!-- 上部分 -->
                        <div class="top">
                            <div class="top-left">
                                <div class="meeting-room-name">测试会议室</div>
                                <div class="remarks">有投影仪</div>
                            </div>
                            <button type="button" class="mui-btn top-right">预约</button>
                        </div>
                        <!-- 下部分 -->
                        <div>
                            <!-- 进度条 -->
                            <div id="jindu" class="mui-progressbar">
                                <span></span>
                            </div>
                            <span class="startTime">7:00</span>
                            <span class="yellow">黄色: 已审批</span>
                            <span class="blue">蓝色: 审批中</span>
                            <span class="endTime">19:00</span>
                        </div>
                    </li>
                    <li class="list-card">
                        <!-- 上部分 -->
                        <div class="top">
                            <div class="top-left">
                                <div class="meeting-room-name">测试会议室</div>
                                <div class="remarks">有投影仪</div>
                            </div>
                            <button type="button" class="mui-btn top-right">预约</button>
                        </div>
                        <!-- 下部分 -->
                        <div>
                            <!-- 进度条 -->
                            <div id="jindu" class="mui-progressbar">
                                <span></span>
                            </div>
                            <span class="startTime">7:00</span>
                            <span class="yellow">黄色: 已审批</span>
                            <span class="blue">蓝色: 审批中</span>
                            <span class="endTime">19:00</span>
                        </div>
                    </li>
                    <li class="list-card">
                        <!-- 上部分 -->
                        <div class="top">
                            <div class="top-left">
                                <div class="meeting-room-name">测试会议室</div>
                                <div class="remarks">有投影仪</div>
                            </div>
                            <button type="button" class="mui-btn top-right">预约</button>
                        </div>
                        <!-- 下部分 -->
                        <div>
                            <!-- 进度条 -->
                            <div id="jindu" class="mui-progressbar">
                                <span></span>
                            </div>
                            <span class="startTime">7:00</span>
                            <span class="yellow">黄色: 已审批</span>
                            <span class="blue">蓝色: 审批中</span>
                            <span class="endTime">19:00</span>
                        </div>
                    </li>
                </ul>
                <!-- </div>
                </div> -->
            </div>
        </div>
        <!-- 底部nav -->
        <div class="bottom">
            <div v-for="(item, index) in meuNav" :key="index" @click="navChange(index)" >
                <span class="nav-icon mui-icon" :class="menuIcon[index]" :class=nav[index]></span>
                <span class="nav-text" :class=nav[index]>{{item}}</span>
            </div>
        </div>
    </div>
</body>

<script src="../../reference/vue/vue.js"></script>
<script src="../../reference/mui/js/mui.min.js"></script>
<script src="../../reference/mui/js/mui.picker.js"></script>
<script src="../../reference/mui/js/mui.picker.min.js"></script>

<script>
    var app = new Vue({
        el: "#app",
        data: function () {
            var app = this;
            return {
                typeActive: 0, //选中类型
                dateActive: 0, //选中日期
                IsActive: false, //选择日期
                typeList: ["全部", "大型", "中型", "小型"], //会议类型列表
                dateList: ["今天", "明天", "后天", "选择日期"], //会议日期列表
                meuNav: ["预约申请", "预约管理", "历史记录"], //底部导航栏
                menuIcon: {
                    0:" mui-icon-compose",
                    1: "mui-icon-person",
                    2: "mui-icon-list"
                }, //底部导航栏图标
                nav: [
                    "yysq",
                    "yygl",
                    "lsjl"
                ]
            };
        },
        methods: {
            // 会议室类型筛选
            changeTypeClass(index) {
                app.typeActive = index;
            },
            // 会议室日期筛选
            changeDateClass(index) {
                index != 3 || app.selectDate()
                app.dateActive = index;
            },
            //日期选择
            selectDate() {
                dtPicker = new mui.DtPicker({
                    type: "date",
                });
                //selectItems为选中的 日期
                dtPicker.show(function (selectItems) {
                    app.nowTime = new Date();
                    var y = app.nowTime.getFullYear();
                    var m = app.nowTime.getMonth() + 1;
                    m = m < 10 ? "0" + m : m;
                    var d = app.nowTime.getDate();
                    d = d < 10 ? "0" + d : d;
                    app.nowTime = y + "-" + m + "-" + d;
                    //判断发放日期和当前日期的大小
                    app.nowTime <= selectItems.text ? app.dateList[3] = selectItems.text : mui.toast("发放日期不能小于当天 !");
                    app.$forceUpdate(); //强制更新视图
                });
            },
            //底部导航栏切换
            navChange(index) {
                switch(index) {
                    case 1: location.href = "meeting-manage.html";
                    break
                    case 2: location.href = "meeting-manage-history.html";
                    break
                }
            },
            // 左上角返回事件
            back() {
                location.href = "../../menu.html";
            },
        },
        created() {
        },
    });

    //列表区域滚动
    mui(".mui-scroll-wrapper").scroll({
        scrollY: true, //是否竖向滚动
        scrollX: false, //是否横向滚动
        startX: 0, //初始化时滚动至x
        startY: 0, //初始化时滚动至y
        indicators: true, //是否显示滚动条
        deceleration: 0.0006, //阻尼系数,系数越小滑动越灵敏
        bounce: true, //是否启用回弹
    });

    //初始化进度条
    mui("#jindu").progressbar({ progress: 0 }).show();
</script>

</html>