(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4324add8"],{"4c9a":function(e,t,a){},"7a2e":function(e,t,a){"use strict";a.r(t);var n=a("1da1"),o=(a("e7e5"),a("d399")),r=(a("96cf"),a("d81d"),a("b0c0"),a("365c")),c={name:"branched-passage-boss-list",props:{},render:function(){var t=this,a=arguments[0];return a("div",{class:"branched-passage-boss-list"},[this.table_data.map(function(e){return a("div",{class:"branched-passage-boss-list-vessel"},[a("global-van-cell-group",{attrs:{inset:!0}},[a("global-tap",{on:{tap:function(){t.group_tap(e)}}},[a("global-van-cell",{attrs:{title:"项目",value:e.xm}}),a("global-van-cell",{attrs:{title:"公司名称",value:e.gsmc}}),a("global-van-cell",{attrs:{title:"负责人",value:e.fzr}}),a("global-van-cell",{attrs:{title:"申请时间",value:e.time}})]),a("div",{class:"branched-passage-boss-list-vessel-button"},[a("global-tap",{on:{tap:function(){t.vessel_button_warning(e)}}},[a("global-van-button",{attrs:{type:"warning"}},["驳回"])]),a("global-tap",{on:{tap:function(){t.vessel_button_info(e)}}},[a("global-van-button",{attrs:{type:"info"}},["同意"])])])])])}),a("div",[a("global-van-dialog",{attrs:{value:this.reject_dialog_value,"show-cancel-button":!0,showConfirmButton:!0},on:{"click-overlay":function(){return t.reject_dialog_click_overlay()},cancel:function(){return t.reject_dialog_cancel()},confirm:function(){return t.reject_dialog_confirm()}}},[a("global-van-field",{attrs:{name:"picker",value:this.reject_reason||null,label:"原因:",required:!0,placeholder:"请输入驳回原因"},on:{input:function(e){t.reject_reason_input(e)},blur:function(){t.reject_reason_blur()}}})])])])},data:function(){return{projectId:"",reject_reason:"",table_data_choose:"",reject_dialog_value:!1,table_data:[],workNo:localStorage.getItem("workNo"),name:localStorage.getItem("name"),deptCode:localStorage.getItem("deptCode"),deptName:localStorage.getItem("deptName")}},computed:{condition_computed:function(){return{workNo:this.workNo,name:this.name,approveResult:"02",size:20}}},watch:{condition_computed:{handler:function(){},deep:!0,immediate:!0}},methods:{group_tap:function(e){this.projectId=e.id,this.$router.push({path:"/branched-passage-boss-details",query:{id:this.projectId}})},vessel_button_warning:function(e){this.reject_dialog_value=!0,this.table_data_choose=e},vessel_button_info:function(e){this.reject_dialog_value=!1,this.table_data_choose=e,this.oppose(),this.opened(),this.$router.push("/hazardous-operation"),o.a.success("审批成功")},reject_reason_blur:function(){console.dir(this.reject_reason)},reject_dialog_click_overlay:function(){this.reject_dialog_value=!this.reject_dialog_value},reject_dialog_cancel:function(){this.reject_dialog_value=!this.reject_dialog_value},reject_dialog_confirm:function(){console.log(this.reject_reason),this.reject_dialog_value=!this.reject_dialog_value,this.agree(),this.opened(),o.a.success("驳回成功"),this.$router.push("/hazardous-operation")},reject_reason_input:function(e){this.reject_reason=e},opened:function(){var o=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.h)({workNo:o.workNo,name:o.name,statusCodes:"02",size:20});case 2:t=e.sent,a=t.data.map(function(e,t){return{xm:e.projectName,gsmc:e.companyName,title:e.projectName,fzr:e.principalName,zt:e.statusName,id:e.projectId,time:e.recCreateTime}}),o.table_data=a,o.$emit("choose-projectId",t);case 6:case"end":return e.stop()}},e)}))()},agree:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.b)({workNo:t.workNo,name:t.name,projectId:t.table_data_choose.id,approveResult:"02",reason:t.reject_reason});case 2:case"end":return e.stop()}},e)}))()},oppose:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.b)({workNo:t.workNo,name:t.name,projectId:t.table_data_choose.id,approveResult:"01",reason:""});case 2:case"end":return e.stop()}},e)}))()}},mounted:function(){this.opened()}},a=(a("9b57"),a("2877")),c=Object(a.a)(c,void 0,void 0,!1,null,"828dcc28",null);t.default=c.exports},"9b57":function(e,t,a){"use strict";a("4c9a")}}]);